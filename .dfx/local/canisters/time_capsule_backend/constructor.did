type TimeCapsule = record {
    owner: text;
    message: text;
    unlock_time: nat64;
};

service : {
    create_time_capsule: (text, text, nat64) -> (variant { Ok: nat64; Err: text });
    get_time_capsule: (nat64) -> (variant { Ok: text; Err: text }) query;
    list_available_capsules: () -> (vec record { nat64; text }) query;
    update_time_capsule: (nat64, opt text, opt nat64) -> (variant { Ok: text; Err: text });
    delete_time_capsule: (nat64) -> (variant { Ok: text; Err: text });
    list_capsules_by_owner: () -> (vec record { nat64; TimeCapsule }) query;
    greet: (text) -> (text) query;
}